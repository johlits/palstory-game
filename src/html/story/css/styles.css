/* PalStory Modern UI Styles */
:root{
  --bg-1:#0b1220;
  --bg-2:#111a2e;
  /* Base background used by scoped pages */
  --bg:#0b1220;
  --panel:#121826cc;
  --text:#e6e9ef;
  --muted:#9aa4b2;
  --primary:#7c9cff;
  --primary-600:#5c7cff;
  --accent:#8b5cf6;
  --success:#22c55e;
  --warning:#f59e0b;
  --danger:#ef4444;
  --glass:rgba(18,24,38,0.72);
  --border:rgba(255,255,255,0.08);
  --shadow:0 10px 30px rgba(0,0,0,0.35);
}

html,body{
  height:100%;
}

body{
  margin:0;
  color:var(--text);
  background: radial-gradient(1200px 600px at 10% -10%, #1e2a52 0%, transparent 60%),
              radial-gradient(1000px 600px at 110% 10%, #2d1b69 0%, transparent 60%),
              linear-gradient(160deg,var(--bg-1),var(--bg-2));
  background-attachment: fixed;
  font-family: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Global link color */
a, a:visited{ color: var(--text); }
a:hover{ color: var(--text); text-decoration: underline; }

/* Glass panel */
.p-panel{
  background:var(--glass);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow:var(--shadow);
  backdrop-filter: blur(10px);
}

/* Header */
.p-header{
  position:fixed; inset:16px 16px auto 16px;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px;
  z-index: 1000;
}
.p-nav{ display:flex; gap:12px; align-items:center; }
.p-link{ color:var(--muted); text-decoration:none; font-weight:600; }
.p-link:hover{ color:var(--text); text-decoration:underline; }

/* Header center strip (dynamic items) */
.p-header-center{
  position:absolute; left:50%; top:50%; transform:translate(-50%, -50%);
  display:flex; align-items:center; gap:10px; 
  color:var(--muted); font-weight:600; font-size:14px;
  max-width:60vw; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  pointer-events:auto;
}
.p-header-item a{ color:var(--text); text-decoration:none; }
.p-header-item a:hover{ text-decoration:underline; }
.p-header-sep{ color:var(--muted); opacity:.8; margin:0 6px; }

/* Small screens: wrap header and put center strip on its own line */
@media (max-width: 640px){
  .p-header{ flex-wrap:wrap; justify-content:space-between; padding:10px 12px; }
  .p-nav{ gap:8px; }
  .p-header-center{
    position:static; transform:none; order:2; width:100%; max-width:100%;
    margin-top:8px; display:flex; justify-content:center; gap:8px; font-size:13px;
    overflow-x:auto; overflow-y:hidden; white-space:nowrap; -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
  }
  .p-header-center::-webkit-scrollbar{ display:none; }
  .p-header-sep{ margin:0 4px; }
}

/* Center container */
.p-center{
  position:absolute; inset:0; display:grid; place-items:center; padding:16px;
  z-index: 0;
}
.p-card{
  width:min(520px, 92vw);
  padding:28px; text-align:center;
}
.p-title{ font-size:28px; margin:10px 0 2px; letter-spacing:0.5px; }
.p-sub{ color:var(--muted); margin:0 0 20px; font-size:14px; }

/* Logo */
.p-logo{ display:block; margin:0 auto 8px; filter: drop-shadow(0 6px 20px rgba(124,156,255,.35)); }

/* Form */
.p-form{ display:flex; flex-direction:column; gap:14px; margin-top:8px; }
.p-label{ text-align:left; font-size:12px; color:var(--muted); }
.p-input{
  width:100%; padding:12px 14px; font-size:14px; color:var(--text);
  background:#0f1629; border:1px solid var(--border); border-radius:12px;
  outline:none; transition: border-color .15s ease, box-shadow .15s ease;
}
.p-input::placeholder{ color:#6b7280; }
.p-input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(124,156,255,.15); }

.p-actions{ display:flex; gap:12px; align-items:center; justify-content:space-between; margin-top:6px; }
.p-btn{
  appearance:none; border:none; cursor:pointer; user-select:none;
  padding:12px 18px; border-radius:12px; font-weight:700; letter-spacing:.3px;
  background:linear-gradient(180deg,var(--primary),var(--primary-600));
  color:white; box-shadow:0 8px 20px rgba(92,124,255,.35);
  transition: transform .06s ease, filter .2s ease;
}
.p-btn:hover{ filter:brightness(1.05); }
.p-btn:active{ transform: translateY(1px); }

.p-demo{ color:var(--muted); text-decoration:none; }
.p-demo:hover{ color:var(--text); }

/* Right/left panes in game */
.p-hud{ position:fixed; inset:auto 16px 16px 16px; display:flex; gap:16px; pointer-events:none; }
.p-hud > *{ pointer-events:auto; }

/* Floating compass */
#compass{ left:50% !important; transform: translate(-50%, 0) !important; }
#compass{ padding: 0 10px; margin-top:5px; }

/* In-game HUD panel positioning */
#player_box, #items_box, #location_box, #monster_box, #compass{
  /* Ensure above canvas */
  z-index: 10;
}
#player_box{ position:fixed !important; top:16px !important; left:16px !important; }
#items_box{ position:fixed !important; top:16px !important; right:16px !important; }
#location_box{ position:fixed !important; bottom:16px !important; left:16px !important; }
#monster_box{ position:fixed !important; bottom:16px !important; right:16px !important; }
#compass{ position:fixed !important; top:16px !important; }

/* Content areas inside HUD panels */
#items_table{ overflow-y:auto; max-height:400px; }
#item_info_box{ max-height:300px; overflow-y:auto; }
#item_image{ width:280px; height:auto; display:block; margin:5px 10px 8px 5px; max-width:100%; }

#location_info_box{ display:flex; flex-direction:row; align-items:flex-start; gap:12px; max-height:300px; overflow:hidden; flex-wrap:nowrap; }
#location_info_box .info_text{ display:flex; flex:1 1 auto; min-width:0; flex-direction:column; gap:6px; overflow-y:auto; max-height:300px; }
#location_info_box .info_text .location_name{ display:block; }
#location_image{ width:160px; height:auto; display:block; margin:5px 10px 8px 5px; max-width:100%; flex:0 0 auto; }

#monster_info_box{ display:flex; flex-direction:row; align-items:flex-start; gap:12px; max-height:300px; overflow:hidden; flex-wrap:nowrap; }
#monster_info_box .info_text{ display:flex; flex:1 1 auto; min-width:0; flex-direction:column; gap:6px; overflow-y:auto; max-height:300px; }
#monster_info_box .info_text .monster_name{ display:block; }
#monster_image{ width:160px; height:auto; display:block; margin:5px 10px 8px 5px; max-width:100%; flex:0 0 auto; }

/* Fallback: if flex fails for any reason, float image left so text wraps on the right (float has no effect on flex items) */
#location_info_box img, #monster_info_box img{ float:left; }
#location_info_box .info_text, #monster_info_box .info_text{ overflow:hidden; }

#battle_log{ height:240px; overflow-y:auto; }
#location_stats_box{ height:200px; }

/* Game canvas */
#gc{ background-color:#333; }
/* Game page */
body.game-page{ overflow:hidden; }

/* Create page (admin) */
body.create-page{ min-height:100vh; }
.box{ background:var(--glass); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow); padding:12px; }
.create-header{ background:var(--glass); border:1px solid var(--border); box-shadow:var(--shadow); padding:10px 14px; display:flex; align-items:center; justify-content:space-between; margin-bottom:16px; }
.create-header a{ color:var(--link); text-decoration:none; font-weight:600; }
.create-header a:hover{ text-decoration:underline; }
.create-toplink{ position:fixed; bottom:0; right:0; padding:10px 12px; background:var(--glass); border:1px solid var(--border); border-bottom:none; border-right:none; border-top-left-radius:10px; box-shadow:var(--shadow); }
.create-toplink a{ color:var(--link); text-decoration:none; }
.create-toplink a:hover{ text-decoration:underline; }
.two-col{ display:flex; gap:16px; }
.two-col .left{ flex:0 0 40%; }
.two-col .right{ flex:1 0 60%; }
@media (max-width: 900px){
  .two-col{ flex-direction:column; }
  .two-col .left, .two-col .right{ flex:1 0 auto; }
}
.center-abs{ position:absolute; left:50%; top:50%; transform:translate(-50%, -50%); padding:20px; }
.ylink:link, .ylink:visited{ color:#ffeb3b; }
.ylink:hover{ color:#fdd835; }
.ylink:active{ color:#fbc02d; }
.muted{ color:#9aa4bf; }
.text-sm{ font-size:12px; }
.text-error{ color:#ff6b6b; }
.w-80{ width:80px; }
.w-150{ width:150px; }

/* Tables in create page */
.create-page table{ width:100%; border-collapse:separate; border-spacing:0; }
.create-page th{ text-align:left; }
.create-page td{ vertical-align:top; }

/* Status bars */
.statusbar{ width:320px; height:30px; }
.statusbar_outer{ position:relative; }
.statusbar_text{ position:absolute; top:0; left:0; }

/* Text shadow utility used in HUD labels */
.shadow{ text-shadow: 2px 2px black; }

/* Player/Monster stat blocks */
#player_bstats, #monster_bstats{ width:300px; }
.player_bstat{ width:150px; float:left; }
.location_bstat{ width:100%; float:left; }

/* Dialog menu alignment */
.nes-dialog .dialog-menu{ display:flex; justify-content:flex-end; }

/* Create game/player panels */
#create_game_box, #create_player_box{
  position: fixed !important;
  left: 16px !important;
  bottom: 16px !important;
  max-width: min(520px, 92vw);
}
#create_game_box{ width: 500px; max-width: calc(100vw - 32px); max-height: calc(100vh - 32px); overflow:auto; }
#create_player_box{ width: 500px; max-width: calc(100vw - 32px); max-height: calc(100vh - 32px); overflow:auto; }

/* Images */
#player_portrait_preview{ width:200px; height:200px; margin:5px; object-fit:cover; border-radius:12px; border:1px solid var(--border); }

/* Text utilities */
.text-right{ text-align:right !important; }
.justify{ text-align:justify !important; }

/* Spacing/layout utilities */
.stack{ display:flex; flex-direction:column; gap:10px; }
.stack-lg{ display:flex; flex-direction:column; gap:16px; }
.mb-4{ margin-bottom:4px !important; }
.mb-8{ margin-bottom:8px !important; }
.mb-12{ margin-bottom:12px !important; }
.mb-16{ margin-bottom:16px !important; }
.mt-8{ margin-top:8px !important; }
.mt-16{ margin-top:16px !important; }

/* Lists */
.help-list{ margin:0; padding-left:18px; }
.help-list li{ margin:4px 0; color:var(--muted); }

/* Make generic .box look like our glass panels */
.box{
  background:var(--glass) !important;
  border:1px solid var(--border) !important;
  border-radius:12px !important;
  box-shadow:var(--shadow) !important;
  color:var(--text);
  padding:16px;
}

/* Start page layout */
body.start-page{ min-height:100vh; overflow:auto; }
.p-center{ min-height:calc(100vh - 64px); display:flex; align-items:center; justify-content:center; padding:24px 16px; }
.p-panel{ background:var(--glass); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); }
.p-card{ width:100%; max-width:440px; padding:20px; }
.p-logo{ display:block; margin:0 auto 8px auto; }
.p-title{ margin:0 0 8px 0; text-align:center; font-weight:800; letter-spacing:0.5px; }
.p-sub{ margin:0 0 16px 0; text-align:center; color:var(--muted); }
.p-form{ display:flex; flex-direction:column; gap:10px; align-items:center; }
.p-label{ align-self:flex-start; font-weight:600; font-size:14px; color:var(--muted); }
.p-input{ width:100%; max-width:300px; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:#0f1629; color:var(--text); outline:none; transition:border-color .2s ease, box-shadow .2s ease; }
.p-input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(92,113,255,0.25); }
.p-actions{ display:flex; flex-direction:column; gap:10px; align-items:center; margin-top:8px; }
.p-btn{ appearance:none; border:1px solid var(--border); background:#0f1629; color:var(--text); padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700; transition:transform .06s ease, filter .2s ease, border-color .2s ease; }
.p-btn:hover{ filter:brightness(1.1); border-color:var(--primary); }
.p-demo{ color:var(--muted); font-size:14px; text-decoration:underline; }

/* Grid utilities */
.grid{ display:grid; gap:12px; }
.grid-2{ grid-template-columns: 1fr 180px; align-items:start; }
@media (max-width: 520px){
  .grid-2{ grid-template-columns: 1fr; }
}

/* Form controls in panels/boxes */
.box input[type="text"],
.box input[type="password"],
.box input[type="number"],
.box input[type="date"],
.nes-input,
.p-input{
  width:100%; max-width:300px;
}

/* Date input styling */
input[type="date"]{ padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:#0f1629; color:var(--text); outline:none; }
input[type="date"]:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(92,113,255,0.25); }
/* calendar icon color (webkit) */
input[type="date"]::-webkit-calendar-picker-indicator{ filter: invert(1) opacity(0.8); cursor:pointer; }

/* Center the create boxes over the game canvas */
#create_game_box,
#create_player_box{
  position:fixed; left:16px; right:16px; top:50%; transform:translateY(-50%);
  z-index:9999; max-width:480px; width:auto; margin:0 auto; max-height:92vh; overflow:auto;
}
#create_game_box .stack, #create_player_box .stack{ align-items:center; }
#create_game_box label, #create_player_box label{ align-self:flex-start; font-weight:600; font-size:14px; color:var(--muted); }
#player_portrait_preview{ display:block; margin:0 auto; }
#create_player_box #player_portrait_preview{ width:140px; height:140px; }
/* Slightly tighter vertical spacing inside modals */
#create_game_box .stack, #create_player_box .stack{ gap:8px; }

/* Center small auth panel on create page */
.center-abs{ width:100%; max-width:360px; margin:24px auto; }

/* Fallback for short viewports: anchor near top */
@media (max-height: 540px) {
  #create_game_box,
  #create_player_box{
    top:24px; transform:none;
  }
}

/* Form elements (global) */
input[type="text"], input[type="password"], input[type="number"], input[type="email"],
input[type="search"], select, textarea {
  width:100%; padding:12px 14px; font-size:14px; color:var(--text);
  background:#0f1629; border:1px solid var(--border); border-radius:12px;
  outline:none; transition: border-color .15s ease, box-shadow .15s ease;
  outline:none; transition: border-color .15s ease, box-shadow .15s ease, background .2s ease;
}
input::placeholder, textarea::placeholder{ color:#6b7280; }
input:focus, select:focus, textarea:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(124,156,255,.15); }
input[disabled], select[disabled], textarea[disabled]{ opacity:.6; cursor:not-allowed; }

/* Checkboxes / radios */
input[type="checkbox"], input[type="radio"]{
  accent-color: var(--primary);
}

/* Admin (create page) polish */
body.create-page{ background: radial-gradient(60% 120% at 50% 0%, rgba(124,156,255,0.10) 0%, rgba(16,24,40,0) 60%) no-repeat, var(--bg); }
.create-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 14px; margin:8px auto 16px; max-width:1100px; }
.create-header a{ color:var(--text); text-decoration:none; font-weight:600; }
.create-header a:hover{ text-decoration:underline; }
.ylink{ display:inline-block; margin:4px 8px 4px 0; padding:6px 10px; border:1px solid var(--border); border-radius:999px; background:rgba(255,255,255,0.02); color:var(--text); text-decoration:none; font-size:13px; }
.ylink:hover{ border-color:var(--primary); background:rgba(92,113,255,0.08); }

/* Labels above inputs (admin page) */
.create-page label{ display:block; clear:both; font-weight:600; font-size:13px; color:var(--muted); margin:8px 0 4px; }
/* Hide legacy <br> inserted after labels to avoid double spacing */
.create-page label + br{ display:none; }

/* More compact inputs on admin page */
.create-page input[type="text"],
.create-page input[type="password"],
.create-page input[type="number"],
.create-page input[type="email"],
.create-page input[type="search"],
.create-page select,
.create-page textarea{
  padding:8px 10px; font-size:12px; border-radius:8px;
  width:100%; max-width:260px; /* prevent spillover regardless of size attribute */
}
/* Consistent spacing under fields */
.create-page input, .create-page select, .create-page textarea{ display:block; clear:both; margin-bottom:10px; }
/* Hide legacy <br> after controls too */
.create-page input + br, .create-page select + br, .create-page textarea + br{ display:none; }
.create-page .box input[type="text"],
.create-page .box input[type="password"],
.create-page .box input[type="number"],
.create-page .box input[type="date"],
.create-page .box textarea,
.create-page .p-input{ max-width:260px; }

/* Buttons inside admin page */
.create-page button,
.create-page input[type="submit"],
.create-page input[type="button"]{
  appearance:none; border:1px solid var(--border); background:#0f1629; color:var(--text);
  padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700;
  transition:transform .06s ease, filter .2s ease, border-color .2s ease;
}
.create-page button:hover,
.create-page input[type="submit"]:hover,
.create-page input[type="button"]:hover{ filter:brightness(1.08); border-color:var(--primary); }
.create-page button:active,
.create-page input[type="submit"]:active,
.create-page input[type="button"]:active{ transform:translateY(1px); }

/* Compact action buttons in tables */
.create-page table button,
.create-page table input[type="button"],
.create-page table input[type="submit"]{ padding:6px 10px; font-weight:600; font-size:13px; border-radius:8px; }

/* Table polish (if not already styled) */
.create-page table{ width:100%; border-collapse:separate; border-spacing:0; margin:10px 0 18px; }
.create-page th, .create-page td{ padding:10px 12px; border-bottom:1px solid var(--border); text-align:left; }
.create-page thead th{ position:sticky; top:0; background:rgba(15,22,41,0.85); backdrop-filter:saturate(140%) blur(8px); z-index:1; }
.create-page tbody tr:hover{ background:rgba(255,255,255,0.02); }

/* Button/link focus-visible for accessibility */
button:focus-visible, .p-btn:focus-visible, .nes-btn:focus-visible, a:focus-visible{
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Tables hover and zebra */
.nes-table tr:nth-child(even){ background: rgba(255,255,255,0.02); }
.nes-table tr:hover{ background: rgba(124,156,255,0.08); }
.nes-table th{ color:var(--muted); font-weight:700; }

/* Dialog backdrop (when using <dialog>) */
dialog::backdrop{ background: rgba(0,0,0,0.5); backdrop-filter: blur(2px); }

/* Responsive tweaks */
@media (max-width: 720px){
  .p-header{ inset:8px 8px auto 8px; padding:8px 10px; }
  .p-card{ width:min(560px, 94vw); padding:20px; }
  #player_box, #items_box, #location_box, #monster_box{ max-width: calc(50vw - 24px); }
}
@media (max-width: 480px){
  .p-nav{ gap:8px; }
  .p-link{ font-weight:600; font-size:13px; }
  .p-title{ font-size:22px; }
  .p-sub{ font-size:13px; }
  .p-btn{ padding:10px 14px; }
  #player_box, #items_box, #location_box, #monster_box{ max-width: calc(100vw - 32px); }
}

/* Utility: visually hidden (for a11y) */
.visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px, 1px, 1px, 1px); white-space:nowrap; }
.hidden{ display:none !important; }
.create-page input.hidden{ display:none !important; }

/* Credits page layout (scoped) */
.credits-page{ padding:24px 16px; }
.credits-page .row{ display:grid; grid-template-columns: 1fr; gap:16px; align-content:center; justify-items:stretch; max-width:560px; margin:0 auto; min-height:calc(100vh - 120px); }
.credits-page .column{ float:none; padding:0; }
.credits-page .left, .credits-page .right{ width:auto; }

/* Panel look for columns */
.credits-page .left, .credits-page .right{
  background:var(--glass); border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow);
  padding:16px;
}

/* Headings */
.credits-page h1{ margin:0 0 12px; font-size:28px; letter-spacing:.5px; text-align:center; }
.credits-page h2{ margin:14px 0 10px; font-size:18px; color:var(--muted); }

/* Lists */
.credits-page ul{ margin:8px 0 12px 0; padding-left:0; list-style:none; }
.credits-page li{ display:flex; align-items:flex-start; gap:10px; padding:6px 0; border-bottom:1px dashed var(--border); }
.credits-page li:last-child{ border-bottom:none; }
.credits-page li::before{ content:"\2022"; color:var(--primary); margin-top:-1px; }

/* Tables */
.credits-page table{ width:100%; border-collapse:separate; border-spacing:0; }
.credits-page th, .credits-page td{ padding:8px 10px; border-bottom:1px solid var(--border); }
.credits-page th{ text-align:left; color:var(--muted); font-weight:700; }
.credits-page tbody tr:hover{ background:rgba(255,255,255,0.02); }

/* Textareas */
.credits-page #category,
.credits-page #resources{ width:100%; height:100%; min-height:180px; padding:10px; border:1px solid var(--border); border-radius:12px; background:#0f1629; color:var(--text); }

@media (max-width: 900px){
  .credits-page .row{ max-width: 92vw; }
}

/* Start page (index.php) layout (scoped) */
.start-page{ min-height:100vh; background: linear-gradient(rgba(0,0,0,.7), rgba(0,0,0,.7)), var(--start-bg, none); background-repeat:no-repeat; background-size:cover; background-position:center; }
.start-page .row{ position:absolute; overflow:hidden; top:0; bottom:0; left:0; right:0; }
.start-page .row::after{ content:""; display:table; clear:both; }
.start-page .column{ float:left; height:100%; background-color: transparent; }
.start-page .left{ width:100%; }
.start-page .right{ width:0; display:none; }
.start-page #game{ width:100%; height:100%; }
.start-page #screen_2{ display:none; }
.start-page #header_text{ display:none; }

/* Start page logo glow */
.start-page .p-logo{
  will-change: filter, transform;
  animation: logo-glow 9s ease-in-out infinite;
}

@keyframes logo-glow{
  0%, 100%{
    filter: drop-shadow(0 0 0px rgba(255,255,255,0.0)) brightness(1);
    transform: scale(1);
  }
  50%{
    filter: drop-shadow(0 0 18px rgba(255,255,255,0.45)) brightness(1.06);
    transform: scale(1.01);
  }
}

/* Dialog overrides (NES.css) */
.nes-dialog.is-dark{
  background:#0b1220;
  border-color:var(--border);
}

/* Tables */
.nes-table.is-dark{ background:#0b1220; }

/* Small utility */
.hide{ display:none !important; }
.show{ display:block !important; }

/* Header theme toggle */
.theme-toggle{
  display:flex; align-items:center; gap:10px;
}
.theme-btn{
  border:1px solid var(--border); background:#0f1629; color:var(--text);
  padding:8px 12px; border-radius:10px; cursor:pointer;
}
.theme-btn:hover{ border-color:var(--primary); }

/* --- NES.css minimal replacements --- */
/* Buttons */
.nes-btn{
  appearance:none; border:1px solid var(--border); background:#0f1629; color:var(--text);
  padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700;
  transition:transform .06s ease, filter .2s ease, border-color .2s ease;
}
.nes-btn:hover{ filter:brightness(1.06); border-color:var(--primary); }
.nes-btn:active{ transform:translateY(1px); }
.nes-btn.is-primary{ background:linear-gradient(180deg,var(--primary),var(--primary-600)); color:#fff; border-color:transparent; }
.nes-btn.is-success{ background:linear-gradient(180deg,var(--success),#17a34a); color:#fff; border-color:transparent; }
.nes-btn.is-error{ background:linear-gradient(180deg,var(--danger),#b91c1c); color:#fff; border-color:transparent; }
.nes-btn.is-warning{ background:linear-gradient(180deg,var(--warning),#b45309); color:#0b1220; border-color:transparent; }
.nes-btn.is-disabled, .nes-btn:disabled{ opacity:.5; cursor:not-allowed; filter:none; }

/* Dialogs */
.nes-dialog{
  background:var(--glass);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:var(--shadow);
  color:var(--text);
  padding:18px 20px;
}
.nes-dialog.is-dark{ background:#0b1220; }
.nes-dialog.is-rounded{ border-radius:16px; }
.nes-dialog .title{ font-weight:800; margin:0 0 10px; }
.nes-dialog .dialog-menu{ display:flex; justify-content:flex-end; gap:10px; margin-top:14px; }

/* Badges */
.nes-badge{ display:inline-flex; border:1px solid var(--border); border-radius:10px; overflow:hidden; }
.nes-badge.is-splited > span{ padding:6px 10px; display:inline-block; }
.nes-badge .is-dark{ background:#0f1629; color:var(--text); }

/* Progress */
.nes-progress{ width:100%; height:12px; border-radius:10px; overflow:hidden; background:#0f1629; border:1px solid var(--border); }
.nes-progress::-webkit-progress-bar{ background:#0f1629; }
.nes-progress::-webkit-progress-value{ background:var(--primary); }
.nes-progress.is-success::-webkit-progress-value{ background:var(--success); }
.nes-progress.is-primary::-webkit-progress-value{ background:var(--primary); }
.nes-progress::-moz-progress-bar{ background:var(--primary); }
.nes-progress.is-success::-moz-progress-bar{ background:var(--success); }
.nes-progress.is-primary::-moz-progress-bar{ background:var(--primary); }

/* Tables */
.nes-table{ width:100%; border-collapse:separate; border-spacing:0; border:1px solid var(--border); border-radius:12px; overflow:hidden; }
.nes-table.is-bordered td, .nes-table.is-bordered th{ border-bottom:1px solid var(--border); }
.nes-table th, .nes-table td{ padding:10px 12px; text-align:left; }
.nes-table.is-dark{ background:#0b1220; }
.nes-table-responsive{ width:100%; overflow-x:auto; }

/* Scrollbar polish for scrollable boxes */
*::-webkit-scrollbar{ width:10px; height:10px; }
*::-webkit-scrollbar-thumb{ background:rgba(255,255,255,0.12); border-radius:10px; border:2px solid transparent; background-clip:padding-box; }
*::-webkit-scrollbar-track{ background:transparent; }

/* Text utilities */
.nes-text{ color:var(--text); }
.nes-text.is-warning{ color:var(--warning); }
.nes-text.is-disabled{ color:var(--muted); }
